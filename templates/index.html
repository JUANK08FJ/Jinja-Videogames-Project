<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>MAIN PAGE</title>
        <link rel="icon" type="image/png" href="../img/controller.png">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link href="main.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
                crossorigin="anonymous"></script>
    </head>
    <body>
        <header>
            <nav>
                <div class="container-fluid text-center">
                    <div class="justify-content-md-center">

                        {# FOR EVERY NAME DISTRIBUTOR #}
                        {% for distributor in jdistributors %}

                        <div class="btn-group m-1 mt-2 mb-2 p-1">
                            <a href="distributors/{{ distributor.urlName }}"><img class="rounded-circle"
                                                                              src="../img/{{ distributor.distributorId }}.png"
                                                                              alt="{{ distributor.distributorName }}"></a>
                            <div class="dropdown m-auto ms-2">
                                <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">{{ distributor.distributorName }}</a>
                                <div class="dropdown-menu mt-3 p-0 {{ distributor.distributorId }}">

                                    {# IF THE ID ISN'T EQUAL JUST DON'T ANYTHING #}
                                    {% for game in jgames %}
                                    {% if distributor.distributorId == game.distributorId %}
                                    <a href="videogames/{{ game.urlName }}" class="dropdown-item {{ distributor.distributorId }}-text">{{ game.gameName }}</a>
                                    {% endif %}
                                    {% endfor %}

                                </div>
                            </div>
                        </div>

                        {% endfor %}

                    </div>
                </div>
            </nav>
        </header>

        <main>
            <h1 id="dis" class="p-5 text-center">DISTRIBUTORS</h1>
            <div class="album p-5 pt-0 bg-body-tertiary">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">

                    {# FOR EVERY NAME GAME #}
                    {% for distributor in jdistributors %}

                    <div class="col px-3 mt-5">
                        <div class="shadow-sm rounded-3 {{ distributor.distributorId }}">
                            <img class="bd-placeholder-img card-img-top rounded-3" src="{{ distributor.imageUrl }}" alt="{{ distributor.distributorName }}">
                            <div class="card-body p-4">
                                <div class="d-flex justify-content-between align-items-center">
                                    <button onclick="window.location.href='distributors/{{ distributor.urlName }}'" type="button" class="btn btn-sm btn-outline-secondary">Open...</button>
                                    <small class="text-body-secondary {{ distributor.distributorId }}-text">{{ distributor.foundationDay }}</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    {% endfor %}

                </div>
            </div>

            <h1 class="p-5 games text-center">VIDEOGAMES</h1>
            <div class="album p-5 pt-0 bg-body-tertiary">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">

                    {# FOR EVERY NAME GAME #}
                    {% for game in jgames %}

                    <div class="col px-3 mt-5">
                        <div class="shadow-sm rounded-3 {{ game.distributorId }}">
                            <a href="index.html#dis" class="special_container">
                                <img class="bd-placeholder-img card-img-top rounded-3" src="{{ game.imageUrl }}" alt="{{ game.gameName }}">
                                <h4 class="hidden-text {{ game.distributorId }}-text">{{ game.gameName }}</h4>
                            </a>
                            <div class="card-body p-4">
                                <div class="d-flex justify-content-between align-items-center">
                                    <button onclick="window.location.href='videogames/{{ game.urlName }}'" type="button" class="btn btn-sm btn-outline-secondary">Open...</button>
                                    <small class="text-body-secondary {{ game.distributorId }}-text">{{ game.releaseDate }}</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}

                </div>
            </div>
        </main>

        <footer class="d-flex flex-wrap justify-content-between align-items-center border-top p-2">
            <p class="col-md-4 mb-0">{{ jdeveloper.name }} - {{ jdeveloper.email }}</p>

            <a href="index.html" class="col-md-4 d-flex align-items-center justify-content-center me-md-auto">
                <img src="../img/controller.png" alt="Controller for main page">
            </a>

            <a class="col-md-4 mb-0 text-md-end" href="{{ jdeveloper.web }} target="_blank"">{{ jdeveloper.web }}</a>
        </footer>
    </body>
</html>